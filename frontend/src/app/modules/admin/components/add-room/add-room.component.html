<div class="content-wrapper pt-5">
  <div class="container-fluid">
    <h1 class="m-auto">Add rooms</h1>
    <div class="example-button-container">
      <div class="d-flex justify-content-between">
        <button mat-flat-button (click)="openDialog()" class="ml-auto">
          Add NEw
        </button>
      </div>
    </div>
  </div>
  <div class="main-body">
    <mat-form-field class="example-full-width">
      <mat-label>Filter</mat-label>
      <input
        matInput
        (keyup)="applyFilter($event)"
        placeholder="filter"
        #input
      />
    </mat-form-field>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!-- id Column -->
      <!-- <ng-container matColumnDef="_id">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let row"> {{row._id}} </td>
    </ng-container> -->

      <!-- Room Name Column -->
      <ng-container matColumnDef="roomName">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let row">{{ row.roomName }}</td>
      </ng-container>

      <!-- Room number  Column -->
      <ng-container matColumnDef="roomNumber">
        <th mat-header-cell *matHeaderCellDef>RoomNo</th>
        <td mat-cell *matCellDef="let row">{{ row.roomNumber }}</td>
      </ng-container>

      <!-- Roomtype Column -->
      <ng-container matColumnDef="roomType">
        <th mat-header-cell *matHeaderCellDef>RoomType</th>
        <td mat-cell *matCellDef="let row">{{ row.roomType }}</td>
      </ng-container>
      <!-- price Column -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Price</th>
        <td mat-cell *matCellDef="let row">
          {{ row.price | currency : "INR" }}
        </td>
      </ng-container>
      <!-- image Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Image</th>
        <td mat-cell *matCellDef="let row">
          <img
            [style]="{ height: '64px', width: '64px', objectFit: 'cover' }"
            [src]="
              'http://localhost:3000/roomPics/' +
              (row.pictures[0]?.fileName || '')
            "
            alt=""
          />
        </td>
      </ng-container>
      <!-- number of beds Column -->
      <ng-container matColumnDef="bedTypes">
        <th mat-header-cell *matHeaderCellDef>bedTypes</th>
        <td mat-cell *matCellDef="let wow">{{ wow.bedTypes }}</td>
      </ng-container>
      <!-- amenities  of beds Column -->
      <ng-container matColumnDef="amenities">
        <th mat-header-cell *matHeaderCellDef>amenities</th>
        <td mat-cell *matCellDef="let wow">{{ wow.amenities }}</td>
      </ng-container>
      <!-- amenities  of beds Column -->
      <ng-container matColumnDef="occupancy">
        <th mat-header-cell *matHeaderCellDef>occupancy</th>
        <td mat-cell *matCellDef="let wow">{{ wow.occupancy }}</td>
      </ng-container>
      <!-- number of beds Column -->
      <ng-container matColumnDef="bookingPolicy">
        <th mat-header-cell *matHeaderCellDef>bookingPolicy</th>
        <td mat-cell *matCellDef="let row">{{ row.bookingPolicy }}</td>
      </ng-container>
      <!-- action  Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let row">
          <mat-icon (click)="openEditform(row)">edit</mat-icon>
          <mat-icon color="warn" (click)="deleterooms(row._id)"
            >delete</mat-icon
          >
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="5">
          No data matching the filter "{{ input.value }}"
        </td>
      </tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page of users"
    ></mat-paginator>
  </div>
</div>
